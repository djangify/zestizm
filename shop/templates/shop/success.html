{% extends "base.html" %}

{% block content %}
<section class="w-full bg-[color:var(--color-brand-light)] py-16">
  <div class="max-w-4xl mx-auto px-6">
    <div class="bg-[color:var(--color-bg-default)] rounded-xl shadow-md p-10 text-center border border-[color:var(--color-brand-accent)]">

      <!-- Success Icon -->
      <div class="mb-6">
        <svg
          class="w-20 h-20 mx-auto text-[color:var(--color-brand-secondary)]"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M5 13l4 4L19 7"
          ></path>
        </svg>
      </div>

      <!-- Title -->
      <h1
        class="text-3xl font-bold text-[color:var(--color-brand-primary)] mb-4"
      >
        Payment Successful!
      </h1>

      <p class="text-lg text-[color:var(--color-font-main)]/80 mb-8">
        Thank you for your purchase from <strong>Zestizm</strong>.  
        You will receive an email confirmation shortly, and your downloads are
        available anytime from your profile area.
      </p>

      <!-- User Confirmation -->
      {% if request.user.is_authenticated %}
      <div
        class="mt-6 p-4 border border-[color:var(--color-brand-accent)] rounded-md bg-[color:var(--color-brand-light)] text-[color:var(--color-font-main)] text-sm"
      >
        <p>
          Thank you,
          <strong
            >{{ request.user.get_full_name|default:request.user.username }}</strong
          >.  
          A receipt has been sent to
          <strong>{{ request.user.email }}</strong>.
        </p>
      </div>
      {% endif %}

      <!-- Order Details -->
      <div
        class="bg-[color:var(--color-brand-light)] rounded-lg shadow-inner p-6 my-8 text-left max-w-md mx-auto border border-[color:var(--color-brand-accent)]"
      >
        <h2
          class="text-xl font-semibold mb-4 text-[color:var(--color-font-main)]"
        >
          Order Details
        </h2>
        <p class="text-[color:var(--color-font-main)] mb-2">
          <strong>Order ID:</strong> {{ order.id }}
        </p>
        <p class="text-[color:var(--color-font-main)]">
          <strong>Total Amount:</strong> ${{ order.get_total_cost|floatformat:2 }}
        </p>
      </div>

      <!-- Actions -->
      <div
        class="flex flex-col sm:flex-row items-center justify-center gap-4 mt-6 text-center"
      >
        <a
          href="{% url 'shop:purchases' %}"
          class="px-6 py-3 rounded-lg bg-[color:var(--color-brand-primary)] text-[color:var(--color-brand-light)] font-semibold hover:bg-[color:var(--color-brand-primary-contrast)] transition"
        >
          Download Your Purchase
        </a>

        <a
          href="{% url 'core:home' %}#latest-products"
          class="px-6 py-3 rounded-lg bg-[color:var(--color-brand-accent)] text-[color:var(--color-brand-dark)] font-semibold hover:bg-[color:var(--color-brand-accent-contrast)] transition"
        >
          Continue Shopping
        </a>
      </div>
    </div>
  </div>
</section>
{% endblock %}
