{% extends "base.html" %}
{% load static %}

{% block content %}
<section class="w-full bg-[color:var(--color-brand-light)] py-12">
  <div class="max-w-5xl mx-auto px-6 bg-white rounded-xl shadow-md p-10">

    <!-- Heading -->
    <h1 class="text-2xl md:text-3xl font-bold text-[color:var(--color-brand-primary)] mb-6">
      Shop by Category
    </h1>
    <p class="text-lg text-[color:var(--color-font-main)] mb-10">
      Browse all collections in the Djangify shop. Explore our categories to find PDFs, guides, and services 
      designed to help you get AI-search ready and simplify your online marketing.
    </p>

    <!-- Category Grid -->
    <div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
      {% for category in categories %}
      <div class="border border-[color:var(--color-brand-accent)]/40 rounded-lg p-6 hover:shadow-md hover:border-[color:var(--color-brand-accent)] transition">
        <h3 class="text-xl font-semibold mb-3 text-[color:var(--color-font-main)]">
          <a href="{{ category.get_absolute_url }}" class="text-[color:var(--color-brand-secondary)] hover:underline">
            {{ category.name }}
          </a>
        </h3>

        {% if category.description %}
        <p class="text-[color:var(--color-font-main)] text-sm leading-relaxed">
          {{ category.description|truncatewords:20 }}
        </p>
        {% else %}
        <p class="text-[color:var(--color-font-main)] text-sm leading-relaxed">
          Explore products in the {{ category.name }} collection.
        </p>
        {% endif %}
      </div>
      {% empty %}
      <p class="col-span-full text-center text-[color:var(--color-font-main)]">
        No categories found at the moment. <a href="{% url 'core:home' %}#latest-products" class="text-[color:var(--color-brand-secondary)] hover:underline">Return to the shop</a>.
      </p>
      {% endfor %}
    </div>

    <!-- Back to Shop Button -->
    <div class="mt-10 text-center">
      <a href="{% url 'core:home' %}#latest-products"
         class="inline-block px-6 py-3 rounded-lg bg-[color:var(--color-brand-accent)] text-white font-semibold hover:opacity-90 transition">
        Back to Shop
      </a>
    </div>

  </div>
</section>
{% endblock %}
