{% if favourite_products %}
<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 mt-6">
  {% for product in favourite_products %}
  <article class="bg-white border border-[color:var(--color-brand-accent)]/30 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition flex flex-col">
    
    <!-- Product Image -->
    <a href="{% url 'shop:product_detail' product.slug %}">
      {% if product.get_image_url %}
        <img src="{{ product.get_image_url }}" 
             alt="wish list item - {{ product.title }}" 
             class="w-full h-64 object-cover">
      {% else %}
        <div class="w-full h-64 bg-[color:var(--color-brand-light)] flex items-center justify-center text-[color:var(--color-brand-accent)]">
          No Image Available
        </div>
      {% endif %}
    </a>

    <!-- Product Content -->
    <div class="p-5 flex flex-col flex-grow">
      <h3 class="text-lg font-semibold text-[color:var(--color-brand-primary)] mb-2 line-clamp-2">
        {{ product.title }}
      </h3>

      <p class="text-[color:var(--color-font-main)] text-sm mb-4">
        Â£{{ product.current_price|default:product.price|floatformat:2 }}
      </p>

      <div class="mt-auto flex justify-center">
        <a href="{% url 'shop:product_detail' product.slug %}"
           class="px-4 py-2 text-sm font-semibold border border-[color:var(--color-brand-secondary)] text-[color:var(--color-brand-secondary)] rounded-md hover:bg-[color:var(--color-brand-secondary)] hover:text-white transition">
          View
        </a>
      </div>
    </div>

  </article>
  {% endfor %}
</div>
{% else %}
<div class="text-center py-12">
  <p class="text-[color:var(--color-font-main)]/70">No products in your wish list yet.</p>
  <a href="{% url 'core:home' %}#latest-products" 
     class="mt-4 inline-block px-6 py-3 rounded-lg bg-[color:var(--color-brand-secondary)] text-white font-semibold hover:bg-[color:var(--color-brand-primary)] transition">
    Visit the Shop
  </a>
</div>
{% endif %}
